<div class="d-flex flex-wrap justify-content-between align-items-center gap-2 mb-4">
  <div class="text-white">
    <h2 class="fw-bold mb-1">Soumissions</h2>
    <div class="text-white-60"><%= form.title %></div>
  </div>
  <a href="/dashboard" class="btn btn-outline-light rounded-pill"><i class="bi bi-arrow-left"></i> Retour</a>
</div>

<div class="card-glass p-3 p-lg-4 text-white shadow-lg table-glass">
  <div class="table-responsive">
    <table class="table align-middle">
      <thead>
        <tr>
          <th>Date</th>
          <th>Données</th>
          <th>Fichier</th>
        </tr>
      </thead>
      <tbody>
        <% if (submissions && submissions.length) { %>
          <% submissions.forEach(s => { %>
            <tr>
              <td><%= new Date(s.createdAt || Date.now()).toLocaleString() %></td>
              <td><pre class="mb-0 text-white-80" style="white-space: pre-wrap;"><%= JSON.stringify(s.data || {}, null, 2) %></pre></td>
              <td>
                <% if (s.filePath) { %>
                  <a class="btn btn-sm btn-outline-light" href="<%= s.filePath %>" target="_blank"><i class="bi bi-paperclip"></i> Voir</a>
                <% } else { %>
                  <span class="text-white-60">—</span>
                <% } %>
              </td>
            </tr>
          <% }) %>
        <% } else { %>
          <tr><td colspan="3" class="text-white-60">Aucune soumission pour le moment.</td></tr>
        <% } %>
      </tbody>
    </table>
  </div>
</div>
